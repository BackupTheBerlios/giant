% ==============================================================================
%  $RCSfile: project.tex,v $, $Revision: 1.8 $
%  $Date: 2003/02/13 13:14:31 $
%  $Author: schwiemn $
%
%  Description:
%
% ==============================================================================


%===================
\section {Persistenz über Projekte}

GIANT speichert persistente Informationen in sogenannten Projekten.
Ein Projekt besteht aus einem Verweis auf eine IML-Graph-Datei, auf die sich
die gespeicherten Informationen beziehen, sowie aus gespeicherten Informationen für
IML-Teilgraphen und Anzeigefenstern.\\
Jedes Projekt hat einen vom Benutzer definierbaren Namen, dieser Name entspricht dem Namen der 
Projektdatei und wird innerhalb des IML-Browsers angezeigt.
Der Name eines bereits angelegten Projektes kann nicht geändert werden (außer dadurch, dass
man dass Projekt neu speichert und das alte löscht). 
Der Benutzer kann beliebig viele Projekte erzeugen.\\
Während der Arbeit mit GIANT kann jederzeit ein Projekt geladen werden, wobei immer nur ein
Projekt gleichzeitig geöffnet sein darf.Vorraussetzung hierfür ist alledings, dass dies 
von Reflektion zum IML-Graphen unterstützt wird.

  \subsection {Das Projektverzeichnis}
  In dem Projektverzeichnis liegt die Projektdatei, der Name des Projektverzeichnisses ist beliebig.
  Im Projektverzeichnis befindet sich auch die Dateie für jedes gespeicherte Anzeigefenster und jeden 
  gespeicherten IML-Teilgraphen.
  In jedem Projektverzeichnis darf nur ein Projekt gespeichert werden.

  \subsection {Die Projektdatei}
  Die Projektdatei befindet sich im Projektverzeichnis und enthält Informationen, 
  die zur Identifikation des zu einem Projekt gehörenden IML-Graphen nötig sind. 
  Der Name der Projektdatei entspricht dem Namen des Projektes.

  \subsection {Der zugehörige IML-Graph}
  Der absolute oder realtive Pfad zu der Datei, die den IML-Graphen enthält, ist in der
  Projektdatei gespeichert. Alternativ dazu kann der Benutzer den Pfad zur IML-Graph Datei auch
  eingeben.
 
  \subsection {Die Identifikation der IML-Graph Datei}
  Die Reflektion muss für jede IML-Graph Datei eine möglichst eindeutige Prüfsumme berechnen können.
  Bei Laden eines Projektes wird überprüft ob die in der Projektdatei gespeicherte Prüfsumme
  der der zu ladenen IML-Graph Datei entspricht. 
  Das Verhalten von GIANT für den Fall, dass eine IML-Graph Datei geladen wird, 
  die zwar die passende Prüfsumme hat, aber nicht den IML-Graphen enthält, 
  der dem Projekt zu Grunde liegt, ist undefiniert.

  \subsection {Verwaltungsdateien für Anzeigefenster}
  Für jedes gespeicherte Anzeigefenster gibt es eine Verwaltungsdatei. 
  Diese Verwaltungsdatei enthält alle Informationen zur kompletten Rekonstruktion 
  eines Anzeigefensters. Gespeichert werden:
 
  \begin {itemize}
 
    \item Der komplette Anzeigeinahlt (alle visualisierten Knoten und Kanten mit Position).
    \item Alle Pins (gespeicherte sichtbare Anzeigeinhalte).
    \item Alle dem Anzeigefenster bekannten Selektion.
 
  \end {itemize}
 
  Die VISUALISIERUNGSSTIELE (für jedes Anzeigefenster kann ein VISUALISIERUNGSSTIEL ausgewählt werden)
  werden aber nicht gespeichert, da sie von der Konfiguartionsdatei vorgegeben werden.

  \subsection{Verwaltungsdateien für IML-Teilgraphen}
  Sämtliche erzeugten IML-Teilgraphen werden ebenfalls in Verwaltungsdateien gespeichert. 
  Für jeden IML-Teilgraphen gibt es eine eigene Verwaltungsdatei deren Namen dem des 
  IML-Teilgraphen entspricht.
 
  \subsection {Verwaltungsdatei für Anfragen}
  KANN er auch SELBER mittels Paste und Copy im Emacs machen.
  SOLLTEN WIR NICHT UNBEDINGT IN DER SPEZ ZUSAGEN.

%===================
\section {Grundlegendes Verhalten von GIANT beim Speichern von Projekten} 
  

  \subsection{Funktion \gq{Alles Speichern}} 
  >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>EVENTUELL USE CASE Alles Speichern
  Beim Beenden von GIANT wird gefragt, ob alles gespeichert werden soll oder nicht.
  Falls, ja werden alle Anzeigefenster und IML-Teilgraphen in die Verwaltungsdateien
  geschrieben, falls nein bleibt der Zustand beim letzten Speichern erhalten.
  Dieses Speichern kann auch während dem Betrieb durch den Benutzer veranlasst werden.

  %===
  \subsection {Persistenz von Anzeigefenstern}
  Hinsichtlich der Persitenz von Anzeigenfenstern sind folgende Fälle zu unterscheiden:

    \subsubsection {Persistente Anzeigefenster}
    Alle im Projekt bereits vorhandenen Anzeigefenster (alle Anzeigefenster zu denen es eine entsprechende
    Verwaltungsdatei gibt) werden auf der GUI in der Liste über die Anzeigefenster angezeigt, 
    egal ob sie geöffnet oder nicht. Sie können aus dann dieser Liste ausgewählt und geöffnet werden.\\
    Wird ein solches Anzeigefenster geschlossen, so fragt GIANT nach, ob er eventuelle Änderungen speichern soll
    oder nicht. Falls ja, werden eventuelle Änderungen in die für das Anzeigefenster bereits 
    vorhandene Verwaltungsdatei geschrieben, Falls nein, bleibt der Zustand des Anzeigefensters nach der letzten
    Speicherung vorhanden (die zugehörige Verwaltungsdatei wird nicht verändert).

    Ein persistentes Anzeigefenster kann gelöscht werden, hierbei werden alle Information über das Anzeigefenster einschließlich
    der Verwaltungsdatei vernichtet
    >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>EVENTUELL USE CASE - Löschen persistenter Anzeigefenster

    \subsubsection{Nicht persistente Anzeigefenster}
    Nicht persistente Anzeigefenster (typischerweise sind das vom Benutzer neu erzeugte Anzeigefenster) werden in der
    entsprechenden Liste nur solange sie geöffnet sind auch angezeigt. Beim Schließen eines solchen Anzeigefensters fragt
    GIANT nach, ob er das Anzeigefenster speichern soll oder nicht. Durch das Speichern wird dieses Fenster dann
    zu einem persistenten Anzeigefenster und erhält eine eigene Verwaltungsdatei. Wird nicht gespeichert, so gehen
    alle zugehörigen Informationen verloren.

  %===
  \subsection {Persistenz von IML-Teilgraphen}
  Alle in einem Projekt bereits vorhandenen IML-Teilgraphen werden auf der GUI angezeigt (in einer entsprechenden Liste).
  IML-Teilgraphen können nicht einzeln gespeichert oder geladen werden, sondern nur über die Funktion 
  \gq{Alles Speichern} (siehe oben).
  Wird das Programm beendet ohne das zuvor die Funktion \gq{Alles Speichern} ausgeführt wird, so gehen 
  alle nicht gespeicherten Informationen zu den IML-Teilgraphen verloren. Der Zustand des Projektes 
  nach dem letzten Speichern bleibt dann erhalten.

  Beim Ausführen der Funktion \qd{Alles SPeichern} werden sämtliche Änderungen für die IML-Teilgraphen 
  in die Verwaltungsdateien geschrieben. Verwaltungsdateien für IML-Teilgraphen die zwischendurch gelöscht
  wurden, werden ebenfalls gelöscht. Für neu angelegte IML-Teilgraphen werden dann Verwaltungsdateien erzeugt.

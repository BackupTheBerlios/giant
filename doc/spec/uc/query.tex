% ==============================================================================
%  $RCSfile: query.tex,v $, $Revision: 1.12 $
%  $Date: 2003/04/05 21:08:37 $
%  $Author: squig $
%
%  Description: UseCases für die Anfragen
%
%  Last-Ispelled-Revision: 1.7
%
% ==============================================================================

% ==============================================================================
\begin{uc}[Anfrage ausführen]{UC: Neues Skript ausführen}
\index{Skript!ausführen}
Mit diesem UseCase kann eine Skript über den Skriptdialog
(siehe \ref{GUI Anfragedialog}) eingegeben werden.
Die Möglichkeiten der GQSL sind im Detail in Kapitel
\ref {GIANT Query Skripting Language} beschrieben.


  \begin{precond}
    \cond Ein Projekt ist geladen.
  \end{precond}

  \begin{postsuccess}
    \cond Das Skript wurde ausgeführt. Alle Ergebnisse liegen vor.
      
  \end{postsuccess}

  \begin{postfail}
    \cond Das System bleibt im bisherigen Zustand.

    \cond Wurde der UseCase während der Berechnung des
          abgebrochen, so
          gehen sämtliche bereits fertig gestellten Teilergebnisse
          verloren. 
  \end{postfail}
  
  \begin{proc}    
    \step[1]
    Der Benutzer startet den UseCase durch Auswahl des Eintrags 
    \gq{Tools -- Execute GQSL Script} im Hauptmenü  
    (siehe \ref{Main-Window-Tools}).
      
    \step[2] 
    GIANT öffnet den Skriptdialog (siehe \ref{GUI Anfragedialog}).
      
    \step[3]
    Der Benutzer gibt dort im dafür vorgesehenen Textfeld das GQSL Skript
    (siehe auch \ref {GIANT Query Skripting Language}) ein und bestätigt 
    mit \gq {Start Query}.

    \step[4]
    GIANT prüft das eingegebene GQSL Skript. Sollte das Skript
    nicht den Vorgaben der Grammatik 
    (siehe \ref {GIANT Query Skripting Language} entsprechen, erscheint
    eine Fehlermeldung (siehe \ref {afa Fehlerverhalten})
    und das System kehrt zu Schritt 3 des UseCase zurück.
        
    \step[5]    
    GIANT führt das Skript aus und teilt dem Benutzer
    den Fortschritt mittels eines Progress-Dialogs (\ref{Progressbar-Modale}) mit.
    Während der Ausführung des Skripts ist das System mit Ausnahme des
    Progress-Dialogs gesperrt.\\
    
  
  \end{proc}

  \begin{aproc}
    \astep{3} Der Benutzer bricht mit Cancel ab.
    
    \astep{5} Die laufende Ausführung des Skripts wird vom Benutzer
    mit Cancel abgebrochen werden.

  \end{aproc}

\end{uc}


% ==============================================================================
\begin{uc}[UC Anfrage laden]{UC: Skript laden}
\index{Anfragen!aus Datei laden}
Der Benutzer kann zusätzlich zur manuellen Eingabe von GQSL Skripten
(siehe \ref{Anfrage ausführen}) auch gespeicherte Skripte aus 
einer Datei (siehe \ref {Config Anfrage-Dateien}) laden.

  \begin{precond}
    \cond Ein Projekt ist geladen.
  \end{precond}

  \begin{postsuccess}
    \cond Das Skript wurde ausgeführt. Alle Ergebnisse liegen vor.
  \end{postsuccess}

  \begin{postfail}
    \cond Das System bleibt im bisherigen Zustand.

    \cond Wurde der UseCase während der Berechnung abgebrochen, so
          gehen sämtliche bereits fertig gestellten Teilergebnisse
          verloren. 
  \end{postfail}
  
  \begin{proc}    
    \step[1]
    Der Benutzer startet den UseCase durch Auswahl des Eintrags 
    \gq{Tools -- Execute GQSL Script} im Hauptmenü  
    (siehe \ref{Main-Window-Tools}).
      
    \step[2] 
    GIANT öffnet den Skriptdialog (siehe \ref{GUI Anfragedialog}).
      
    \step[3] 
    Der Benutzer betätigt im Dialog den Button \gq{Open...}.

    \step[4]
    Daraufhin zeigt GIANT den Standard-Filechooser-Dialog 
    (siehe \ref {Standard-Filechooser-Dialog}).
    
    \step[5] Der Benutzer wählt die Datei (siehe \ref {Config
      Anfrage-Dateien}) aus.
        
    \step[6]
    GIANT zeigt das aus der Datei geladene GQSL Skript 
    (siehe \ref {GIANT Query Skripting Language}) im Textfeld
    des Skriptdialogs an.

    \step[7]
    Falls gewünscht kann der Benutzer das GQSL Skript im Textfeld
    noch manuell weiter modifizieren.
    
    \step[8]
    Der Benutzer startet die Berechnung des Skripts durch Betätigung
    des \gq{Start Query} im Skriptdialog (siehe \ref{GUI Anfragedialog}).

    \step[9]
    GIANT prüft das geladene und eventuell modifizierte GQSL Skript. 
    Sollte das Skript nicht den Vorgaben der Grammatik 
    (siehe \ref {GIANT Query Skripting Language} entsprechen, erscheint
    eine Fehlermeldung (siehe \ref {afa Fehlerverhalten})
    und das System kehrt zu Schritt 7 des UseCase zurück.

    \step[10]    
    GIANT führt das Skript aus und teilt dem Benutzer
    den Fortschritt mittels eines Progress-Dialogs (\ref{Progressbar-Modale}) mit.
    Während der Ausführung des Skripts ist das System mit Ausnahme des
    Progress-Dialogs gesperrt.\\

  \end{proc}

  \begin{aproc}
    \astep{3} Der Benutzer bricht den UseCase mit Cancel ab.
    \astep{4} Der Benutzer bricht die Auswahl der Datei mit Cancel ab.
              Das System kehrt dann zu Schritt 2 bei der
              Abarbeitung des UseCase zurück.
    \astep{6} Der Benutzer bricht den UseCase mit Cancel ab.

    \astep{10} Die laufende Ausführung des Skripts wird vom Benutzer
    mit Cancel abgebrochen werden.
  \end{aproc}

\end{uc}

% ==============================================================================
\begin{uc}[Anfrage speichern]{UC: Skript speichern}
\index{Anfragen!in eine Datei speichern}
Mit diesem UseCase kann der Benutzer GQSL Skripte aus dem 
Skriptdialog (siehe \ref{GUI Anfragedialog}) in Dateien 
(siehe \ref {Config Anfrage-Dateien}) speichern.

  \begin{precond}
    \cond Der Skriptdialog (siehe \ref{GUI Anfragedialog}) ist
          geöffnet und enthält in dem dafür vorgesehenen Textfeld
          entweder ein manuell eingegebenes oder ein aus einer
          Datei geladenes und eventuell modifiziertes GQSL Skript.

  \end{precond}

  \begin{postsuccess}
    \cond Eine Datei, welche das GQSL Skript enthält, wurde
          angelegt.
    \cond GIANT zeigt den Skriptdialog, das gespeicherte GQSL Skript
          ist weiterhin in dem Textfeld vorhanden.
      
  \end{postsuccess}

  \begin{postfail}
    \cond Das System bleibt im bisherigen Zustand.
    \cond Es wurde keine Datei erzeugt
    \cond GIANT zeigt weiterhin den Skriptdialog an
          (siehe \ref{GUI Anfragedialog}) und alle dort getätigten
          Eingaben (insbesondere das GQSL Skript im Textfeld des
          Dialoges) bleiben erhalten.
   
  \end{postfail}
  
  \begin{proc}    

    \step[1]
    Der Benutzer betätigt im Skriptdialog (siehe \ref{GUI Anfragedialog})
    den Button \gq{Save As...}.
    
    \step[2]
    GIANT prüft ob das GQSL Skript im Textfeld des Skriptdialogs den
    Vorgaben der Grammatik (siehe \ref {GIANT Query Skripting Language} 
    entspricht. Falls nicht, erscheint eine Fehlermeldung 
    (siehe \ref {afa Fehlerverhalten})
    und das System kehrt zu Schritt 1 des UseCase zurück.

    \step[3]
    GIANT öffnet den Standard-Filechooser-Dialog (siehe 
    \ref {Standard-Filechooser-Dialog}).
  
    \step[4]
    Der Benutzer gibt den Pfad und die Datei, in der das GQSL Skript
    gespeichert werden soll, vor und bestätigt mit OK.

    \step[5]
    GIANT speichert das GQSL Skript in der vorgegebenen Datei.

  \end{proc}

  \begin{aproc}
    \astep{4} Der Benutzer bricht den UseCase mit Cancel ab.

  \end{aproc}

\end{uc}


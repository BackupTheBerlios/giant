% ==============================================================================
%  $RCSfile: gui.tex,v $, $Revision: 1.36 $
%  $Date: 2003/03/18 23:28:07 $
%  $Author: stupro $
%
%  Description: Bis zu Revision 1.6 sind UseCase-artige Beschreibungen enthalten,
%  die für UseCases nützlich sein könnten. 
%
% ==============================================================================

\section{Über die Benutzeroberfläche}

\begin{enumerate}
  \item {GIANT besitzt eine graphische Benutzeroberfläche, die per Maus zu
  bedienen ist. Ausgewählte Funktionen können auch per Tastatur ausgelöst
  werden.}
  \item {Die Interaktionssprache mit dem Benutzer ist Englisch}
\end{enumerate}


\section{Über dieses Kapitel}    

Diese Beschreibung beschreibt alle Elemente der GUI. Sofern nicht anders
angegeben, sind hintereinander angegebene Elemente (z.B. Listeneinträge)
immer von links nach rechts oder von oben nach unten beschrieben.
Sofern nicht anders angegeben, sind alle Ausgaben immer linksbündig
formatiert.
Jedes Hauptmenü und jedes PopUpMenü bekommt in dieser Spezifikation einen
eindeutigen Namen.
Jedes Untermenü (horizontal) heist MENÜNAME-UNTERMENÜNAME
Jeder Eintag (vertikal) heißt MENÜNAME-UNTERMENÜNAME-EINTRAGSNAME

\section {Main Window}

Im Hauptfenster (MAIN\_WINDOW), welches es nur einmal gleichzeitig
gibt, werden vorhandene Anzeigefenster und vorhandene
IML-Teilgraphen angezeigt. Über Popup-Menues können Teilgraphen
und Anzeigefenster manipuliert werden.
Eine Statuszeile befindet sich ganz oben im Fenster.

Darunter im Fenster befinden sich zwei Listen, zuoberst WINDOW\_LIST (2 Spalten),
und darunter SUBGRAPH\_LIST (4 Spalten).


  \subsection {Kopfzeile}
  In der Kopfzeile wird dargestellt \gq{GIANT <Version> : <IML-Graph-Name>}
 
  \subsection {Menüleiste (Main Window)}
  In der Menüleiste befinden sich folgende Einträge:

    \subsubsection {Untermenü File (Main Window)} \label{Main-Window-File}
    Im Untermenü File des Hauptfensters befinden sich folgende Einträge.  
      \begin{enumerate}
         \item {New Project} % OK
         \item {Load Project}
         \item {Save Project}
         \item{ Quit}
      \end{enumerate}    
      
     \subsubsection {Untermenü  (Tools)}  \label{Main-Window-Tools}
       \begin{enumerate}
          \item {Delete annotations having no visible Node}
        \end{enumerate}
        

    \subsubsection {Untermenü Info (Main Window)}  \label{Main-Window-Info}     
       \begin{enumerate}
          \item {About GIANT}
        \end{enumerate}
     
     
  
     

  \subsection {Statuszeile}

    In der Statuszeile befindet sich die Information:
    GIANT - Project name: x , Windows: x , IML Nodes: x, IML Edges: x

  \subsection {Window List}
  
  Im Fenster befindet sich zuoberst eine Liste WINDOW\_LIST.
   
    \subsubsection {Inhalt Window List}
    \label{WINDOW-LIST}
   
      WINDOW\_LIST hat die Spalten WINDOW\_NAME und WINDOW\_OPEN. In WINDOW\_NAME
      wird der Name der Anzeigefenster dargestellt, in WINDOW\_OPEN befindet
      sich entweder ein Strich-Symbol (Fenster nicht geöffnet) oder ein Häkchensymbol
      (Fenster geöffnet). 
    
    \subsubsection {PopUp Menü Window list}
    
    
        Beim Rechtsklick auf WINDOW\_LIST öffnet sich ein Popup-Menü mit folgenden Menüpunkten:
        \label{WINDOW-LIST-POPUP}

        \begin{enumerate}
          \item Open Window % OK
          \item Close Window % OK
          \item Delete Window % OK
          \item New Window % OK
          \item Insert IML Subgraph % OK
          \item Export Window
          \item Import Window
          \end{enumerate}
    
  \subsection {Subgraph List}
    
    Unter der WINDOW\_LIST im Fenster befindet sich eine Liste SUBGRAPH\_LIST.
   
    \subsubsection {Inhalt Subgraph List} 
    
      SUBGRAPH\_LIST hat die Spalten 
      \begin{enumerate}
        \item Subgraph Name (SUBGRAPH\_NAME)
        \item Nodes (SUBGRAPH\_NODES)
        \item Edges (SUBGRAPH\_EDGES)
        \item Highlight Color (SUBGRAPH\_HIGHLIGHT\_COL).
      \end{enumerate}
    
      In Subgraph Name stehen die (benutzerdefinierten) Namen der existierenden
      Subgraphen, in Nodes die Anzahl der Knoten des Subgraphen,
      in Edges die Anzahl der Kanten und in Highlight Color ein Kästchen mit der Farbe,
      die verwendet wird, wenn dieser Subgraph markiert wird.

    
    \subsubsection {PopUp Menü Subgraph List}
    \label {PopUp Menü Subgraph List}
      Beim Rechtsklick auf SUBGRAPH\_LIST öffnet sich ein Popup-Menü mit folgenden Menüpunkten:
        \label{SUBGRAPH-LIST-POPUP}
        \begin{enumerate}
          \item highlight (zum Hervorheben eines Teilgraphen in allen Fenstern mit Farbe SUBGRAPH\_COL)
          \item Change highlighting color
          \item unhighlight
          \item Copy IML Subgraph with existing layout % OK
          \item Copy IML Subgraph with new layout % OK
          \item Rename IML Subgraph
          \item Delete IML Subgraph
          \item IML Subgraph Set Operation (Union/Difference/Intersection)
          \item Export IML Subgraph
          \item Import IML Subgraph
        \end{enumerate}   
        
    
  \subsection {Zugehörige Dialoge}
  
        \begin{enumerate}
                \label{SUBGRAPH-LIST-NEW-WINDOW}
                \item SUBGRAPH\_LIST/NEW\_WINDOW
                        Dieser Dialog ermöglicht, ein neues Fenster anzulegen
                        
        \end{enumerate}
  >>>>>>>>>>>>KURZE Beschreibung aller DIALOGE die NUR!!!! vom HAUPTFENSTER AUS erreichbar sind.


\section {Anzeigefenster}

  Im Programm kann es kein, eines oder mehrere Anzeigefenster geben.
  
  Ein Anzeigefenster besteht aus folgenden Elementen:

  \subsection {Minimap}

    In der MiniMap wird der gesamte IML-Teilgraph, der im Fenster
    visualisiert ist, durch einen grauen Kasten repräsentiert.
    Dabei repräsentiert der graue Kasten die Ausdehnung des gesamten
    Graphen inklusive der z.Z.\ nicht im Fenster sichtbaren Bereiche.
    Der im Fenster sichtbare Bereich wird in der MiniMap durch einen
    Rahmen angezeigt. Je nach Zoomstufe ist der sichtbare Bereich
    größer oder kleiner.
    Durch Klicks in die Minimap kann die linke obere Ecke des
    sichtbaren Bereiches versetzt werden, der in VIS\_PANE angezeigte
    Bereich wird dann entsprechend angepaßt.

\section{Anzeigefenster}

  In Anzeigefenstern (DISPLAY\_WINDOW) werden Graphen visualisiert,
  sie erscheinen im grossen quadratischen rechten Teil (VIS\_PANE) des Fensters.
  Im linken Viertel des Fensters, der Toolbar (DISPLAY\_WINDOW\_TOOLBAR)
  befinden sich untereinander die MiniMap (MINIMAP), Pinliste (PIN\_LIST)
  mit darunterliegenden Buttons, und Selektionsliste (SELECTION\_LIST),
  die Zoom-Kontrolle, die Stilauswahl-Combobox (STYLE\_COMBO) und
  ein Button zum Ausblenden der Toolbar (TOOLBAR\_HIDE).

  \subsection{Visualisierung der Knoten}

    In der VIS\_PANE werden die Knoten und Kanten angezeigt. Wenn sich der
    Mauszeiger über der VIS\_PANE befindet, verwandelt er sich in ein
    Fadenkreuz.
    
    
    
    Wenn auf einem Knoten die rechte Maustaste geklickt wird, öffnet sich
    folgendes Popup Menü:
    
    >>>>>>>> hier fehlen noch Punkte
    
    \subsubsection{Node-Popup-Menü}\label{Node-Popup-Menü}
    \begin{enumerate}
      \item Show Node Info Window

      \item Annotate Node \label{Annotate Node}
      \item Change Node Annotation \label{Change Node Annotation}
      \item Delete Node Annotation \label{Delete Node Annotation}
    \end{enumerate}
    
    Wenn in der VIS\_PANE, nicht auf einer Kante oder einem Knoten, die rechte
    Maustaste geklickt wird, öffnet sich folgendes Kontextmenü:
    \label{Empty Vis Pane Right click}
    \begin{enumerate}
      \item Make Room % OK
      \item New Pin % OK
    \end{enumerate}
    

  \subsection{Pins} \label{VIS-PANE-Pins}

    In der Pinliste (PIN\_LIST) können Pins festgelegt werden.
    Auf der Pinliste sind folgende Menüpunkte eines Popup-Menüs aktivierbar:
    
    \begin{enumerate}
      \item New Pin (PIN\_NEW) % OK
      \item Focus Pin (PIN\_JUMP) % OK
      \item Delete Pin (PIN\_DELETE) % OK
    \end{enumerate}

  \subsection{Selektionen} \label{Selektionsauswahlliste}

    In der Selektionsauswahlliste (SELECTION\_LIST) sind folgende Menüpunkte
    eines Popup-Menüs aktivierbar:
    \begin{enumerate}
      \item New Selection
      \item Add Nodes to Selection
      
      \item Highlight Selection  Color1 [gemäß Einstellung in Config Datei]   
      \item Highlight Selection  Color2 [gemäß Einstellung in Config Datei]   
      \item Highlight Selection  Color3 [gemäß Einstellung in Config Datei] 
      
      \item Zoom to make selection fill window % OK
      
      \item Unhighlight Selection
      \item Change highlighting color 
      \item Copy Selection
      \item Rename Selection
      \item Delete Selection % OK
      \item Selection Set Operation (Union/Difference/Intersection)
      \item Export Selection
      \item Import Selection
    \end{enumerate}    


  \subsection{Zoom-Kontrolle}

    Die Zoom-Kontrolle besteht aus folgenden Elementen:
    
  \begin{enumerate}
      \item ComboBox ZOOM\_CONTROL mit vorgefertigten Werten und Eingabemöglichkeit % OK
      \item Button \gq{Display} (ZOOM\_DISPLAY) % OK
      \item Button \gq{Zoom+} (ZOOM\_PLUS) % OK
      \item Button \gq{Zoom-} (ZOOM\_MINUS) % OK
      \item Button \gq{Fill Window} (ZOOM\_FILL) % OK
  \end{enumerate}    
     
  \subsection{Stilauswahl-Combobox}

    In der Stilauswahl-Combobox (STYLE\_CHOOSER) kann ein Anzeigestil
    festgelegt werden.

  \subsection{Ein- und Ausklappbutton}

    Durch Klick auf den Ein- und Ausklappbutton (VIS\_PANE\_BUTTON) kann die VIS\_PANE
    ein- und ausgeblendet werden.
    
  \subsection{Scrolleisten}
  \label{Scrolleisten}
    An den beiden Scrolleisten (links/rechts und oben/unten) in jedem Anzeigefenster
    kann der im Fenster sichtbare Bereich des Graphen verschoben werden.

\section{Knoten-Informationsfenster}

    In Knoten-Informationsfenstern (NODE\_INFO) können nähere Informationen
    zu Knoten angezeigt werden.
    Es kann beliebig viele Knoten-Informationsfenster geben, jedoch maximal
    eines pro Knoten.

    Zuoberst im Fenster wird die Knotentyp und Knoten-ID dargestellt
    (TYPE und ID), Format: "Node: TYPE, ID: ID) darunter befinden sich
    (jeweils untereinander) drei getrennt scrollbare Listen,
    ATTRIBUTES, SUCCESSOR\_NODES, PREDECESSOR\_NODES.
    
    Unter den drei Listen befinden sich nebeneinander mittig zwei Buttons
    CLOSE und PICK (zum Auswählen eines anderen Knotens zur Anzeige).
    
    \subsection{Liste ATTRIBUTES}

      Die Liste ATTRIBUTES enthält alle Attribute des Knotens, hat zwei Spalten:
    
      \begin{enumerate}
        \item ATTRIBUTE (Attribute Name)
        \item VALUE (Attribute Value)
      \end{enumerate}
    
    \subsection{Liste SUCCESSOR\_NODES}
    
      Die Liste SUCCESSOR\_EDGES hat eine Zeile für jede vom Knoten abgehende
      Kante mit drei Spalten:
    
    \begin{enumerate}
      \item EDGE\_TYPE (Typ der abgehenden Kante: Edge Type)
      \item NODE\_TYPE (Typ des Knotens: Node Type)
      \item NODE\_ID (ID des Knotens, zu dem sie führt: Node ID)
    \end{enumerate}    

    \subsection{Liste PREDECESSOR\_NODES}
      
      Die Liste PREDECESSOR\_EDGES hat eine Zeile für jede vom Knoten abgehende
      Kante mit drei Spalten:

      \begin{enumerate}
        \item EDGE\_TYPE (Typ der ankommenden Kante: Edge Type)
        \item NODE\_TYPE (Typ des Knotens: Node Type)
        \item NODE\_ID (ID des Knotens, von dem sie kommt: Node ID)
      \end{enumerate}

\section{Anfragedialog}

Der Anfragedialog QUERY\_DIALOG hat zuoberst ein Textfeld QUERY\_TEXT,
in dem der Text der Anfrage eingegeben werden kann.

Unter QUERY\_TEXT befinden sich folgende Elemente:

      \begin{enumerate}
        \item Button QUERY\_START (Start Query)
        \item Button QUERY\_CANCEL (Cancel)
        \item Button QUERY\_LOAD (Load Query)
        \item Button QUERY\_SAVE (Save Query)
      \end{enumerate}

>>>>>>>>>>>>> WIRD DER FOLGENDE TEXT BENOETIGT?
Nach Beendigung der Berechnung erscheint ein Fenster QUERY\_RESULT,
in dem \gq{Anfrage beendet. Gefundene Knoten: QUERY\_FOUND\_NODES ,
Gefundene Kanten: QUERY\_FOUND\_EDGES} steht. Darunter befindet sich
der Text übernehmen als IML-Teilgraph und eine Combo-Box IML\_SUBGRAPHS,
in der die bisher geladenen IML-Teilgraphen und eine Eingabemöglichkeit
für einen neuen Namen sind.
Darunter befinden sich zwei Buttons: Anfrage verwerfen und Anfrage
übernehmen (QUERY\_USE , QUERY\_DISCARD) zum Verwerfen oder
übernehmen als IML-Teilgraph. 

\section{Allgemeiner Texteingabedialog}
\label{DIALOG-WINDOW}

Ein allgemeiner Texteingabedialog ist ein Fenster DIALOG\_WINDOW mit dem
Titel \gq{GIANT Dialog}. Im Fenster ist ein einzeiliges Textfeld TEXT\_FIELD
mit einem Prompt-Text TEXT\_LABEL davor, zwei Buttons OK\_BUTTON und CANCEL\_BUTTON
mit den Beschriftungen OK\_LABEL und CANCEL\_LABEL.
Defaultmäßig sind die Buttons mit \gq{OK} und \gq{Cancel} beschriftet.



\section{Common\_Set\_Operation\_Dialog}\label{Common-Set-Operation-Dialog}

Dieser Dialog dient dazu, Mengenoperationen über Selektionen und
IML-Teilgraphen durchzuführen.\\
Die Mengenoperation lässt sich dann wie folgt beschreiben:
TARGET := LEFT\_SOURCE <op> RIGHT\_SOURCE.\\ \\


Bestandteile des Dialoges sind:
\begin {enumerate}

 \item LEFT\_SOURCE Combobox\\
 Soll eine Mengenoperation für Selektionen ausgeführt werden, so werden hier
 alle Selektionen des entsprechenden Anzeigefensters angezeigt.\\
 Bei einer Mengenoperation über IML-Teilgraphen, werden alle IML-Teilgraphen
 des Projektes angezeigt.
 
 \item TARGET Textfield\\
 Name der neuen Selektion oder des neuen IML-Teilgraphen als Ergebnis
 der Mengenoperation.
  
 \item Ein OK Button: OK\\
 Entsprechende Mengenoperation wird ausgeführt.
 
 \item Ein Cancel Button: CANCEL\\
 Bricht die Eingabe ab.
 
\end {enumerate}


\section {Layoutalgorithmen Dialog}\label{Layoutalgorithmen-Dialog}

Der Dialog Layoutalgorithmen bietet folgende Möglichkeiten:

\begin {enumerate}
 \item {Auswahl des Layoutalgorithmus}
 \item Eingabe der zu berücksichtigenden Kanten bei semantischen Layouts
 \item OK Button
 \item Cancel Button
 \item Textfeld zur Eingabe des Namens für die Selektion (in dem Anzeigefenster wo sie eingefügt wurde)
\end {enumerate}




\section{Dateneingabe}
Beschreibung von verschiedenen Textfeldtypen etc. zur Eingabe von Daten.

\subsection{Platz Schaffen-Dialog}
\label{Platz Schaffen-Dialog}



  \subsection{Knoten Annotations-Dialog}
  \label{Knoten Annotations-Dialog}


Im Dialogfenster MAKE\_ROOM wird in einem Textfeld als Zahl angegeben, um wieviel
Pixel die Knoten an der vorher markierten Stelle auseinandergeschoben werden sollen.
Mit dem Button OK kann bestätigt werden, mit Button Cancel abgebrochen werden.

\section{Ausgabe von Fehlermeldungen}

Ein allgemeiner Fehlerdialog ist ein Fenster ERROR\_WINDOW mit dem
Titel \gq{GIANT Error}. Im Fenster ist
ein Fehlertext Text ERROR\_LABEL und ein Button OK\_BUTTON mit der
Beschriftung OK\_LABEL.
Defaultmäßig ist der Button mit \gq{OK} beschriftet.

\section{Sicherheitsabfrage}\label{Sicherheitsabfrage}

Eine allgemeine Sicherheitsabfrage ist ein Fenster CONFIRMATION\_WINDOW mit dem
Titel \gq{GIANT Confirmation Prompt}. Im Fenster ist
ein Fragetext Text CONFIRMATION\_LABEL und ein Button YES\_BUTTON mit der
Beschriftung YES\_LABEL, sowie ein NO\_BUTTON mit der Beschriftung
NO\_LABEL.
Defaultmäßig ist der YES\_BUTTON mit \gq{Yes} beschriftet, NO\_BUTTON
mit \gq{No}.

\section{Auswahl von Dateien}

  \subsection {Der \gq{Standard-Filechooser-Dialog}}
  Die Auswahl von Dateien (Laden/Speichern) passiert bei GIANT mittels
  des von GTK/ADA bereit gestellten Filechooser-Dialogs.


\section{Fadenkreuzcursor}
\label{Fadenkreuzcursor}
        Der Cursor verwandelt sich nach Auswahl bestimmter
        Funktionen in ein Fadenkreuz, rechts unten im Fadenkreuz ist
        entweder NODE, EDGE oder POS zu sehen, um zu zeigen, daß entweder ein
        Knoten, eine Kante oder eine Position im Fenster auszuwählen ist.
        Falls beides möglich ist, erscheint dieser Text nicht. Durch Rechtsklick
        auf einen
        Knoten/eine Kante/leere Position in einem Fenster wird dieser Knoten/diese
        Kante/Position für die jeweilige Funktion ausgewählt. Der Cursor verwandelt
        sich dann wieder in den Normalcursor.


\section{Fortschrittsanzeige}

\label{Progressbar}
Es gibt in GIANT drei Möglichkeiten zur Fortschrittsanzeige während laufender Berechnungen.
Jede Progressbar ist mit \gq{Working, please wait.} beschriftet.

\subsection{Progressbar-1}
\label{Progressbar-1}
     Anzeige eines Dialoges mit einem sich ständig leicht ändernden
     Inhalt, so dass erkennbar ist, dass das System noch arbeitet.

\subsection{Progressbar-2}  
\label{Progressbar-2}   
     Anzeige eines Progressbars, der darstellt, welcher Anteil der
     Gesamtberechnung in Prozent bereits erledigt ist.

\subsection{Progressbar-3}
\label{Progressbar-3} 
     Anzeige eines Progressbars, der über den aktuellen Fortschritt
     einer Berechnung informiert, ohne dabei den Gesamtaufwand zu 
     kennen. Dabei wird kontinuierlich die Anzahl der schon bearbeiteten
     Datensätze ausgegeben.

%%% Local Variables: 
%%% TeX-master: "spec"
%%% End: 

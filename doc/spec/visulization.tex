% ==============================================================================
%  $RCSfile: visulization.tex,v $, $Revision: 1.7 $
%  $Date: 2003/02/18 06:45:46 $
%  $Author: schwiemn $
%
%  Description:
%
% ==============================================================================

Beschreibung der Visualisierung von Teilgraphen des IML-Graphen
in einem Anzeigefenster. Insbeondere soll hier die Darstellung von
Fenster-Knoten und Fenster-Kanten erläutert werden.


\section{Visualisierungsstiele}
\begin {enumerate}
  \item
   Der Benutzer kann über XML-Konfigurationsdateien beliebige viele 
   Visualisierungsstiele erzeugen. 

   \item
   Über einen Visualisierungsstiel kann er definieren, wie Fenster-Knoten und
   Fenster-Kanten in den Anzeigefenstern dargestellt werden.
   
   \item
   Diese Einstellungen kann er differenziert für die verschiedenen 
   Knoten- und Kantenklassen des IML-Graphen vornehmen.
   
   \item
   Zu jedem Anzeigefenster gibt es eine Liste aus der zur Laufzeit ein 
   entsprechender vordefinierter Visualisierungsstiel ausgewählt werden kann.
\end {enumerate}

>>WAS KANN ALLES KONFIGURIERT WERDEN USW.:- VERWEIS AUF KONFIGURATIONSDATEIEN


\section{Visualisierung von Knoten}
Hier wird die Visualisierung eines Fenster-Knoten innerhalb eines 
Anzeigefensters beschrieben. Die tatsächliche Darstellung hängt natürlich 
stark von der aktuellen Zoomstufe und dem gewählten Visualisierungsstiel ab.

  \subsection {Grafik zur Visualisierung von Fenster-Knoten und Fenster-Kanten}
  HIER EVENTUELL SKIZZE EINFÜGEN; WELCHE DAS AUSSEHEN EINES KNOTENS BESCHREIBT


  \subsection {Knoten-Rechteck}
  \begin {enumerate}
    \item
    Grundlage der Darstellung eines Fenster-Knotens ist immer ein Rechteck mit 
    fixer (automatisch berechneter) Breite. 
    
    \item
    Die Höhe des Rechtecks ist proportional zur Anzahl der Attribute des 
    Knotens, die direkt im Anzeigefenster dargestellt werden. 

    \item
    Jedes Knoten-Rechteck hat eine konfigurierbare Füllfarbe und einen Rahmen, 
    dessen Farbe ebenfalls konfiguriert werden kann.
  \end{enumerate}

  \subsection {Knoten-Icon}
  Jeder Knoten kann über ein vordefiniertes Icon verfügen, 
  welches im linken oberen Eck des Knoten-Rechtecks dargestellt wird. 
  Alle Knoten für die kein Icon definiert wurde, haben ein \gq{Default-Icon}.

  \subsection {Klassenname und ID}
  Die ID eines Knotens wird innerhalb des Knoten-Rechtecks rechts oben 
  angezeigt.\\  Der Name der Knotenklasse wird bei den Attributen angezeigt.

  \subsection {Attribute des Knoten}
  Innerhalb des Knoten-Rechtecks können auch Attribute dargestellt werden 
  (Attributname und Wert), da das Knoten-Rechteck eine fixe Breite hat, 
  wird der zugehörige Text abgeschnitten,
  falls er zu lang ist. Dieses Abschneiden wird dem Benutzer durch das 
  Anfügen von \gq{...} an das Ende des Textes dargestellt.


\section{Visualisierung von Kanten}
\begin {enumerate}
  \item
  Kanten sind immer gerade Linien von einem Start- zu einem Zielknoten. 

  \item
  Kanten können sich hinsichtlich ihrer Linienfarbe und der Art der Linie 
  (z.B. gestrichelt oder durchgezogen) unterscheiden.

  \item
  Der IML-Graph kennt auch Schleifen, solche Kanten werden durch 
  zwei Kantenknickpunkte umgelenkt.
\end {enumerate}

  \subsection{Kantenknickpunkte}
  Der Benutzer kann bei jeder Kante manuell beliebig viele Kantenknickpunkte 
  hinzufügen. Die Kante selbst besteht dann aus mehreren geraden Linien vom 
  Startknoten über beliebig viele Kantenknickpunkt hinweg zum Zielknoten.\\

  \subsection{Vorhandene Kanten nicht anzeigen}
  In den Konfigurationsdateien kann genau eingestellt werden, wann eine Kante 
  angezeigt werden soll und wann nicht.\\ 
  So kann verhindert werden, dass Kanten deren Start- oder Zielknoten nicht im 
  sichtbaren Anzeigeinhalt liegen angezeigt werden.

\section {Hervorheben von Knoten und Kanten}
Hier ist spezifiziert, wie Fenster-Knoten und Fenster-Kanten
hervorgehoben werden. Die genaue Art der Hervorhebung kann 
sich aber u.U.\ ändern, wenn die Implementierung zeigen sollte,
dass ein anderes Vorgehen sinnvoller ist.


Innerhalb eines Anzeigefensters können
\begin {itemize}
  \item die \gq{aktuelle Selektion} (kann natürlich auch leer sein),
  \item bis zu drei weitere Selektionen,
  \item und bis zu drei IML-Teilgraphen
\end {itemize}
unterschiedbar hervorgehoben werden.


  \subsection {Hervorheben von Selektionen und der aktuelle Selektion}
  Beim Hervorheben von Knoten und Kanten von Selektionen werden diese 
  mittels einer konfigurierbaren Farbe eingefärbt.

    \begin {enumerate} 
      \item 
      Jeder Knoten einer Selektion wird durch entsprechendes
      Einfärben des Knoten-Rechtecks hervorgehoben.

      \item
      Gehört ein Knoten zu mehreren Selektionen, die hervorgehoben sind,
      so wird das Knoten-Rechteck entsprechend mehrfarbig eingefärbt.


      \item 
      Jede Kante wird dadurch hervorgehoben, dass ihre Linie entsprechend
      dicker gezeichnet wird, wobei der Teil, um den die Kante verbreitert
      wird jeweils entsprechend eingefärbt wird.

      \item
      Gerhört eine Kante zu mehreren Selektionen, die hervorgehoben werden,
      so wird sie entsprechend weiter verbreitert und mehrfarbig eingefärbt.

    \end {enumerate}


  \subsection {Hervorheben von IML-Teilgraphen}


  \begin {enumerate} 
    \item 
    Jeder Fenster-Knoten eines IML-Teilgraphen wird dadurch hervorgehoben,
    dass er mit einem weiteren rechteckigen Rahmen versehen wird, 
    der entsprechend eingefärbt ist.

    \item
    Gehört ein Fenster-Knoten zu mehreren hervorgehobenen IML-Teilgraphen 
    kommen entsprechend weitere Rahmen dazu.

    \item 
    Jede Fenster-Kante wird dadurch hervorgehoben, dass ihre Linie entsprechend
    dicker gezeichnet wird, wobei die der Teil, um den die Kante verbreitert
    wird entsprechend eingefärbt wird.

    \item
    Gerhört eine Fenster-Kante zu mehreren IML-Teilgraphen, 
    die hervorgehoben werden, so wird sie entsprechend weiter verbreitert 
    und mehrfarbig eingefärbt.

   \end {enumerate}  


\section {Detailstufen beim Zoomen}

\begin {enumerate}

  \item
  Beim Herauszoomen müssen Details abstrahiert werden, 
  dies geschieht bei GIANT in mehreren Stufen.

  \item
  Eine exakte Spezifikation der Detailstufen, 
  insbesondere ab welcher Zoomstufe welche Detailstufe gewählt wird, 
  ist an dieser Stelle nicht sinnvoll. Optimale Parameter
  hierfür werden im Laufe der Implementierung ermittelt.
  
  \item
  Beim Herauszoomen wird GIANT zuerst versuchen, die Größe der 
  Knoten-Rechtecke durch Verringerung der Schriftgröße zu verringern. 
  Erst wenn die Schrift klein genug ist (aber noch gut lesbar) wird 
  GIANT Elemente der Darstellung der Fenster-Knoten entfernen.

\end {enumerate}

Es wird in etwa die folgenden Detailstufen geben.

  \subsection {Maximale Details}
  Bei maximaler bis hoher Zoomstufe (nahe ans Bild herangezoomt).\\
  Alle oben beschriebenen Bestandteile von Knoten und Kanten werden angezeigt.\\
  Alle Beschriftungen in maximaler Schriftgröße.

  \subsection {Volle Details}
  Nur die Schriftgröße für Knoten- und Kantenbeschriftungen wird verringert. 

  \subsection {Hohe Details}
  Alle oben beschriebenen Bestandteile von Kanten werden angezeigt.\\
  Bei Knoten werden nur noch das Icon, der Klassenname und die ID im 
  Knoten-Rechteck angezeigt, die anderen Attribute aber nicht mehr.

  \subsection {Mäßige Deteils}
  Die Beschriftungen von Kanten werden nicht mehr angezeigt.\\
  Bei Knoten enthält das Knoten-Rechteck nur noch das Icon.\\

  \subsection {Geringe Details}
  Bei sehr geringer Zoomstufe.\\
  Bei Knoten wird nur noch das reine Knoten-Rechteck mit Rahmen und 
  Füllfarbe angezeigt (kein Icon mehr).

  \subsection {Minimale Details}
  Bei sehr geringer bis hin zur minimalen Zoomstufe.\\
  Die Knoten-Rechtecke werden immer kleiner gezeichnet, 
  bis sie ihre minimale Größe erreicht haben.



\section{Minimap}
Zu jedem Anzeigefenster gibt es genau eine Minimap, welche den gesamten 
Anzeigeinhalt stark abstrahiert darstellt.\\
Die Minimap bietet die folgende Funktionalität:
\begin {enumerate}

  \item 
   Der aktuell sichtbare Anzeigeinhalt wird auf der Minimap mit seiner 
   relativen Position und Größe im Verhältnis zum abstrahierten 
   Anzeigeinhalt dargestellt.

  \item 
  Durch angklicken entsprechender Punkte kann mittels der Minimap gescrollt 
  werden.

\end {enumerate}

